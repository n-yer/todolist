(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{50:function(e,t,a){e.exports=a(62)},55:function(e,t,a){},56:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(7),o=a.n(i),r=(a(55),a(56),a(22)),l=a(39),c=a(40),d=a(27),h=a(43),m=a(42);var u=function(e){return n.a.createElement("li",{className:e.completed?"task complete-task":"task"},n.a.createElement("input",{type:"checkbox",className:"task-checkbox",checked:e.completed,onChange:function(){return e.handleChange(e.id)}}),n.a.createElement("div",{className:"task-text"},n.a.createElement("p",{className:"task-name"},e.title),n.a.createElement("p",{className:"task-note"},e.note)),n.a.createElement("div",{className:"priority-container"},n.a.createElement("span",{className:"dot",style:{backgroundColor:"High"===e.priority?"red":"Medium"===e.priority?"orange":"green"}}),n.a.createElement("p",{className:"priority-text"},e.priority," Priority")),n.a.createElement("button",{className:"delete-btn",onClick:function(){return e.handleDeleteTask(e.id)}},"X"))};var p=function(e){var t=new Date,a=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),o=t.getDay();return t=["January","Febuary","March","April","May","June","July","August","September","October","November","December"][parseInt(s)-1]+" "+a+", "+i,n.a.createElement("div",{className:"banner",style:{backgroundImage:"linear-gradient(to right, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.4) 100%),"+e.bgImg}},n.a.createElement("h1",{className:"date-today-lg"},["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o]),n.a.createElement("h1",{className:"date-today"},t),n.a.createElement("div",{className:"quote-container"},n.a.createElement("h1",{className:"quote"},void 0===e.quote?"":'"'+e.quote+'"'),n.a.createElement("h2",{className:"quote-author"},e.author)))},k=a(41);var b=function(e){var t=Object(s.useState)(0),a=Object(k.a)(t,2);return a[0],a[1],n.a.createElement("div",{className:"stats-container"},n.a.createElement("p",null,"Completed tasks: ",e.completedTasksTotal))},y=a(94),g=a(93),T=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).downloadTxtFile=function(e){var t=document.createElement("a"),a=new Blob([e],{type:"text/plain"});t.href=URL.createObjectURL(a),t.download="myTasks.txt",document.body.appendChild(t),t.click()},s.taskObjects=s.props.initialTasks,s.uploadErrorMsg="",s.state={newTask:{name:"",priority:"Low",note:""},removeTask:"",tasks:s.taskObjects.map((function(e){return n.a.createElement(u,{key:e.id,id:e.id,title:e.name,completed:e.completed,priority:e.priority,note:e.note,handleChange:s.handleTaskChange.bind(Object(d.a)(s)),handleDeleteTask:s.handleDeleteTask.bind(Object(d.a)(s))})})),randomQuote:{},completedTasksTotal:0,uploadedTasks:""},s}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://quotes.rest/qod?language=en").then((function(e){return e.json()})).then((function(t){e.setState({randomQuote:{quote:t.contents.quotes[0].quote,author:t.contents.quotes[0].author}})}))}},{key:"findTaskById",value:function(e,t){for(var a=0;a<e.length;a++)if(e[a].id===t)return a;return-1}},{key:"sortByUncompleted",value:function(){for(var e=this,t=[],a=0;a<this.taskObjects.length;a++)this.taskObjects[a].completed||t.push(this.taskObjects[a]);for(a=0;a<this.taskObjects.length;a++)this.taskObjects[a].completed&&t.push(this.taskObjects[a]);this.taskObjects=t,console.log(this.taskObjects),this.setState({tasks:this.taskObjects.map((function(t,a){return n.a.createElement(u,{key:t.id,id:t.id,title:t.name,completed:t.completed,priority:t.priority,note:t.note,handleChange:e.handleTaskChange.bind(e),handleDeleteTask:e.handleDeleteTask.bind(e)})}))}),this.props.onChange(this.taskObjects)}},{key:"handleTaskChange",value:function(e){var t=this,a=this.findTaskById(this.taskObjects,e);this.taskObjects[a].completed=!this.taskObjects[a].completed,this.taskObjects[a].completed?this.setState({completedTasksTotal:this.state.completedTasksTotal+1}):this.setState({completedTasksTotal:this.state.completedTasksTotal-1}),console.log(this.taskObjects[a]),this.setState({tasks:this.taskObjects.map((function(e){return n.a.createElement(u,{key:e.id,id:e.id,title:e.name,completed:e.completed,priority:e.priority,note:e.note,handleChange:t.handleTaskChange.bind(t),handleDeleteTask:t.handleDeleteTask.bind(t)})}))}),this.props.onChange(this.taskObjects)}},{key:"handleDeleteTask",value:function(e){var t=this,a=this.findTaskById(this.taskObjects,e);this.taskObjects.splice(a,1),this.setState({tasks:this.taskObjects.map((function(e){return n.a.createElement(u,{key:e.id,id:e.id,title:e.name,completed:e.completed,priority:e.priority,note:e.note,handleChange:t.handleTaskChange.bind(t),handleDeleteTask:t.handleDeleteTask.bind(t)})}))}),this.props.onChange(this.taskObjects)}},{key:"getMaxId",value:function(){var e=-1;return this.taskObjects.map((function(t){e=t.id>e?t.id:e})),e}},{key:"addNewTask",value:function(){var e=this;this.sortByUncompleted(),""!==this.state.newTask.name&&(this.taskObjects.push({name:this.state.newTask.name,id:0===this.taskObjects.length?1:this.getMaxId()+1,completed:!1,priority:this.state.newTask.priority,note:this.state.newTask.note}),console.log(this.taskObjects),this.props.onChange(this.taskObjects),this.setState((function(t){return{newTask:{name:"",priority:t.newTask.priority,note:""},tasks:e.taskObjects.map((function(t){return n.a.createElement(u,{key:t.id,id:t.id,title:t.name,completed:t.completed,priority:t.priority,note:t.note,handleChange:e.handleTaskChange.bind(e),handleDeleteTask:e.handleDeleteTask.bind(e)})}))}})))}},{key:"onUpload",value:function(e){var t=e.target,a=new FileReader;a.onload=function(){a.result;this.setState({uploadedTasks:a.result}),this.uploadErrorMsg=t.files[0].name,this.forceUpdate()}.bind(this),a.readAsText(t.files[0])}},{key:"isValidTaskFormat",value:function(e){return""!==e&&"|"===e[e.length-1]}},{key:"importTasks",value:function(e){var t=this;if(this.isValidTaskFormat(this.state.uploadedTasks)){var a=this.state.uploadedTasks.split("\n");console.log(a),a.forEach((function(e,a){var s=e.split("|");t.taskObjects.push({name:s[0],id:0===t.taskObjects.length?1:t.getMaxId()+1,completed:!1,priority:s[1],note:s[2]}),t.props.onChange(t.taskObjects),t.setState((function(e){return{newTask:{name:"",priority:e.newTask.priority,note:""},tasks:t.taskObjects.map((function(e){return n.a.createElement(u,{key:e.id,id:e.id,title:e.name,completed:e.completed,priority:e.priority,note:e.note,handleChange:t.handleTaskChange.bind(t),handleDeleteTask:t.handleDeleteTask.bind(t)})}))}}))})),this.uploadErrorMsg="",e.target.value=" "}else this.uploadErrorMsg="Choose a valid txt file",e.target.value=" ",this.forceUpdate()}},{key:"exportTasks",value:function(){var e=this,t="";this.state.tasks.forEach((function(a,s){t+=a.props.title+"|",t+=a.props.priority+"|",t+=a.props.note+"|",s<e.state.tasks.length-1?t+="\n":t+=""})),this.downloadTxtFile(t)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"main"},n.a.createElement(p,{quote:this.state.randomQuote.quote,author:this.state.randomQuote.author,bgImg:"url('https://source.unsplash.com/1600x800/?nature')"}),n.a.createElement("div",{className:"add-task-container"},n.a.createElement(g.a,{label:"New Task Title",style:{display:"block"},fullWidth:!0,onChange:function(t){e.setState({newTask:Object(r.a)(Object(r.a)({},e.state.newTask),{},{name:t.target.value})})},value:this.state.newTask.name}),n.a.createElement(g.a,{label:"Notes",fullWidth:!0,onChange:function(t){e.setState({newTask:Object(r.a)(Object(r.a)({},e.state.newTask),{},{note:t.target.value})})},value:this.state.newTask.note}),n.a.createElement("div",{className:"priority-select-container"},n.a.createElement("p",null,"Priority"),n.a.createElement("select",{name:"priority",id:"new-task-priority",className:"select-priority",onChange:function(t){e.setState({newTask:Object(r.a)(Object(r.a)({},e.state.newTask),{},{priority:t.target.value})})}},n.a.createElement("option",{value:"Low"},"Low"),n.a.createElement("option",{value:"Medium"},"Medium"),n.a.createElement("option",{value:"High"},"High"))),n.a.createElement(y.a,{style:{display:"block",width:"30%",marginLeft:"70%"},variant:"contained",color:"primary",onClick:this.addNewTask.bind(this)},"Add Task"),n.a.createElement(y.a,{variant:"contained",component:"label",style:{width:"30%"}},""===this.uploadErrorMsg?"Choose File":this.uploadErrorMsg,n.a.createElement("input",{style:{display:"none"},type:"file",id:"fileInput",onChange:this.onUpload.bind(this)})),n.a.createElement(y.a,{variant:"contained",color:"primary",onClick:this.importTasks.bind(this)},"Import Tasks"),n.a.createElement(y.a,{style:{display:"block",width:"30%",marginLeft:"70%"},variant:"contained",color:"primary",onClick:this.exportTasks.bind(this)},"Export Tasks")),n.a.createElement("div",{className:"task-list"},0===this.taskObjects.length?n.a.createElement("h1",null,"Add some tasks to get started!"):this.state.tasks),n.a.createElement(b,{completedTasksTotal:this.state.completedTasksTotal,tasks:this.state.tasks}))}}]),a}(n.a.Component),f=a(33),v=a(9);var E=function(){var e=[];return n.a.createElement("div",{className:"App"},n.a.createElement(f.a,null,n.a.createElement(f.b,{to:"/"}),n.a.createElement(v.c,null,n.a.createElement(v.a,{exact:!0,path:"/"},n.a.createElement(T,{initialTasks:e,onChange:function(t){e=t,console.log("task objects from app.js: ",e)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.b69b0e1d.chunk.js.map